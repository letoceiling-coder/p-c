# ‚úÖ AdminController –ø–µ—Ä–µ–¥–µ–ª–∞–Ω –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å CalcController

## –ü—Ä–æ–±–ª–µ–º–∞:
HTTP 500 –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤ `getAdminSql()`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–ª–∞ `array_shift()` –∏ —Å–æ–∑–¥–∞–≤–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º.

## –†–µ—à–µ–Ω–∏–µ:
–ü–µ—Ä–µ–¥–µ–ª–∞–ª `AdminController` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `CalcController`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `defaultPage()`:

**–ë—ã–ª–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `getAdminSql()`, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–ª `array_shift()` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª 'main' –∏–ª–∏ 'authorization'
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞

**–°—Ç–∞–ª–æ:**
```php
// 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é (–∫–∞–∫ –≤ CalcController)
if ($_SESSION['admin'] || $_COOKIE['admin']){
    $user = $this->sql->query("SELECT * FROM `users` WHERE `sess` ='{$_COOKIE['admin']}'", 'assoc');
    if ($user){
        $this->admin = $user;
    }
}

// 2. –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
if (!$this->admin){
    $sql['template'] = 'authorization';
    return $sql;
}

// 3. –£–¥–∞–ª—è–µ–º 'admin' –∏–∑ urlArray –≤—Ä—É—á–Ω—É—é
if (!empty($this->urlArray) && $this->urlArray[0] == 'admin'){
    array_shift($this->urlArray);
}

// 4. –î–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º dashboard
if (empty($this->urlArray) || empty($this->urlArray[0])){
    $sql['template'] = 'dashboard';
    return $sql;
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `dashboard()` –∏ `telegram()`:

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ - –ø—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `getAdminSql()`.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∫–∞–∫ –≤ CalcController)
2. ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º –ø–æ—Å–ª–µ `array_shift()`
3. ‚úÖ –ü—Ä—è–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **–î–ª—è `/admin`:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí `authorization`
   - –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —É–¥–∞–ª—è–µ–º 'admin' –∏–∑ –º–∞—Å—Å–∏–≤–∞ ‚Üí –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π ‚Üí `dashboard`

2. **–î–ª—è `/admin/telegram`:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí `authorization`
   - –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —É–¥–∞–ª—è–µ–º 'admin' ‚Üí –≤ –º–∞—Å—Å–∏–≤–µ –æ—Å—Ç–∞–µ—Ç—Å—è 'telegram' ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `telegram()`

## –ü—Ä–æ–≤–µ—Ä–∫–∞:

1. ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å PHP –ø—Ä–æ–≤–µ—Ä–µ–Ω
2. ‚úÖ –§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç CalcController

---

**AdminController –ø–µ—Ä–µ–¥–µ–ª–∞–Ω!** üéâ
