# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –º–µ—Ç–æ–¥ `autz_admin()` –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ SSH:

```bash
ssh dsc23ytp@dragon.beget.ru
cd ~/proffi-center.ru/public_html
tail -f log/admin_auth.log
```

### –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:

```bash
tail -50 log/admin_auth.log
```

## –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:

1. **–ù–∞—á–∞–ª–æ –º–µ—Ç–æ–¥–∞** - `=== autz_admin START ===`
2. **–í—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ** - –ª–æ–≥–∏–Ω –∏ –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è
3. **–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –ª–æ–≥–∏–Ω –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ MD5 –ø–∞—Ä–æ–ª—è
4. **SQL –∑–∞–ø—Ä–æ—Å** - –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞** - –Ω–∞–π–¥–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
6. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏** - —Å–æ–∑–¥–∞–Ω–Ω—ã–π session ID
7. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç UPDATE –∑–∞–ø—Ä–æ—Å–∞
8. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ cookie/session** - –∑–Ω–∞—á–µ–Ω–∏—è cookie –∏ session
9. **–†–µ–∑—É–ª—å—Ç–∞—Ç** - —É—Å–ø–µ—Ö –∏–ª–∏ –Ω–µ—É–¥–∞—á–∞

## –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:

```
AUTH: 15-02-2026 12:00:00 - AjaxController construct - POST success: autz_admin
AUTH: 15-02-2026 12:00:00 - Method to call: autz_admin
AUTH: 15-02-2026 12:00:00 - Method exists, calling: autz_admin
AUTH: 15-02-2026 12:00:00 - === autz_admin START ===
AUTH: 15-02-2026 12:00:00 - POST data - login: Admin, password length: 5
AUTH: 15-02-2026 12:00:00 - After processing - login: Admin, password md5: 21232f297a57a5a743894a0e4a801fc3
AUTH: 15-02-2026 12:00:00 - SQL query: SELECT * FROM `users` WHERE `login` = 'Admin' AND `password` = '21232f297a57a5a743894a0e4a801fc3'
AUTH: 15-02-2026 12:00:00 - Query result: FOUND USER (id: 1)
AUTH: 15-02-2026 12:00:00 - Generated session: abc123...
AUTH: 15-02-2026 12:00:00 - Update result: SUCCESS
AUTH: 15-02-2026 12:00:00 - Cookie and session set - cookie: abc123..., session: abc123...
AUTH: 15-02-2026 12:00:00 - === autz_admin SUCCESS ===
```

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ `/admin`
2. –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥: `tail -50 log/admin_auth.log`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–æ–≥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

---

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ!** üìù
